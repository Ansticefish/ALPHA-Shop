!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);r(1);const n=document.querySelector(".step-one"),i=document.querySelector(".step-two"),o=document.querySelector(".step-three"),a=document.querySelector(".form-wrapper"),c=document.querySelector(".previous"),s=document.querySelector(".next"),d=document.querySelector(".submit"),l=document.querySelector(".products"),u=document.querySelector(".fee-price"),p=document.querySelector(".total-price"),m={productList:[{id:1,name:"破壞補丁修身牛仔褲",image:"src/images/product_one.png",amount:1,priceRendered:"$3,999",price:3999},{id:2,name:"刷色直筒牛仔褲",image:"src/images/product_two.png",amount:1,priceRendered:"$1,299",price:1299}],total:{productsPrice:5298,fee:0,priceWithFee:5298},page:1},f={renderProducts(e){e.forEach(e=>{l.innerHTML+=`\n        <div class="product">\n            <img src="${e.image}" alt="product image">\n            <div class="product-info">\n              <p class="product-info-name">${e.name}</p>\n              <div class="product-info-amount">\n                <div class="decrease ${e.id}">\n                  <img src="src/images/minus.png" alt="decrease" class="decrease ${e.id}">\n                </div>\n                <p class="amount">${e.amount}</p>\n                <div class="increase ${e.id}">\n                  <img src="src/images/plus.png" alt="increase" class="increase ${e.id}">\n                </div>\n              </div>\n              <div class="product-info-price">${e.priceRendered}</div>\n            </div>\n          </div>\n      `})},renderTotal(){0===m.total.fee?u.innerText="免費":u.innerText=m.total.fee,p.innerText=m.total.priceWithFee}},g={setSite(){f.renderProducts(m.productList),f.renderTotal(m.total),v.addCartListener(),v.addButtonListener(),v.addRadioEvent(),g.renderForm(m.page)},renderForm(e){switch(e){case 1:n.classList="step-one active",i.classList="step-two",o.classList="step-three",a.classList="form-wrapper page-one";break;case 2:n.classList="step-one active done",i.classList="step-two active",a.classList="form-wrapper page-two";break;case 3:n.classList="step-one active done",i.classList="step-two active done",o.classList="step-three active",a.classList="form-wrapper page-three"}}},v={addButtonListener(){c.addEventListener("click",()=>{m.page-=1,g.renderForm(m.page)}),s.addEventListener("click",()=>{m.page+=1,g.renderForm(m.page)}),d.addEventListener("click",()=>{alert("已經收到您的訂單，將盡快為您出貨！"),o.classList="step-three active done",m.page=1,g.renderForm(m.page)})},addCartListener(){l.addEventListener("click",e=>{const t=e.target,r=Number(t.classList[1]),n=m.productList[r-1];if(t.classList.contains("increase")&&(n.amount+=1,m.total.productsPrice+=n.price,m.total.priceWithFee+=n.price,"DIV"===t.tagName?t.previousElementSibling.innerText=n.amount:t.parentElement.previousElementSibling.innerText=n.amount),t.classList.contains("decrease")){if(0===n.amount)return;n.amount-=1,m.total.productsPrice-=n.price,m.total.priceWithFee-=n.price,"DIV"===t.tagName?t.nextElementSibling.innerText=n.amount:t.parentElement.nextElementSibling.innerText=n.amount}f.renderTotal()})},addRadioEvent(){document.querySelector(".form2").addEventListener("change",e=>{console.log(e.target);"shipment-way1"===e.target.id?(m.total.fee=0,m.total.priceWithFee=m.total.productsPrice):(m.total.fee=500,m.total.priceWithFee=m.total.productsPrice+500),f.renderTotal()})}};g.setSite()},function(e,t,r){}]);